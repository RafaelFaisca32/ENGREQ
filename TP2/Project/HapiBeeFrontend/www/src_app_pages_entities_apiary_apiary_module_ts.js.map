{"version":3,"file":"src_app_pages_entities_apiary_apiary_module_ts.js","mappings":"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","sources":["./src/app/pages/entities/apiary/apiary-update.ts","./src/app/pages/entities/apiary/apiary.module.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { NavController, Platform, ToastController } from '@ionic/angular';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { Apiary, ApiaryState } from './apiary.model';\nimport { ApiaryService } from './apiary.service';\nimport { Zone, ZoneService } from '../zone';\nimport { Beekeeper, BeekeeperService } from '../beekeeper';\nimport {filter, map} from \"rxjs/operators\";\nimport {Hive} from \"../hive\";\n\n@Component({\n  selector: 'page-apiary-update',\n  templateUrl: 'apiary-update.html',\n})\nexport class ApiaryUpdatePage implements OnInit {\n  apiary: Apiary;\n  zones: Zone[];\n  beekeepers: Beekeeper[];\n  isSaving = false;\n  isNew = true;\n  isReadyToSave: boolean;\n\n  form = this.formBuilder.group({\n    id: [null, []],\n    name: [null, [Validators.required]],\n    state: [null, []],\n    number: [null, [Validators.required]],\n    intensive: ['false', [Validators.required]],\n    transhumance: ['false', [Validators.required]],\n    zoneId: [null, [Validators.required]],\n    beekeeperId: [null, []],\n  });\n\n  constructor(\n    protected activatedRoute: ActivatedRoute,\n    protected navController: NavController,\n    protected formBuilder: FormBuilder,\n    public platform: Platform,\n    protected toastCtrl: ToastController,\n    private zoneService: ZoneService,\n    private beekeeperService: BeekeeperService,\n    private apiaryService: ApiaryService\n  ) {\n    // Watch the form for changes, and\n    this.form.valueChanges.subscribe(v => {\n      this.isReadyToSave = this.form.valid;\n    });\n  }\n\n  ngOnInit() {\n    this.zoneService.query({ filter: 'apiary-is-null' }).subscribe(\n      data => {\n        this.zones = [];\n        if (!this.apiary.zoneId) {\n          for (let i=0;i<data.body.length;i++){\n            this.apiaryService.query({'zoneId.equals':data.body[i].id}).pipe(\n              filter((res: HttpResponse<Apiary[]>) => res.ok),\n              map((res: HttpResponse<Apiary[]>) => res.body)\n            ).subscribe(\n              apiaryData => {\n                if (apiaryData.length == 0){\n                  this.zones.push(data.body[i]);\n                }\n              }\n            )\n          }\n        } else {\n          this.zoneService.find(this.apiary.zoneId).subscribe(\n            (subData: HttpResponse<Zone>) => {\n              this.zones = [subData.body].concat(subData.body);\n            },\n            error => this.onError(error)\n          );\n        }\n      },\n      error => this.onError(error)\n    );\n    this.beekeeperService.query().subscribe(\n      data => {\n        this.beekeepers = data.body;\n      },\n      error => this.onError(error)\n    );\n    this.activatedRoute.data.subscribe(response => {\n      this.apiary = response.data;\n      this.isNew = this.apiary.id === null || this.apiary.id === undefined;\n      this.updateForm(this.apiary);\n    });\n  }\n\n  updateForm(apiary: Apiary) {\n    this.form.patchValue({\n      id: apiary.id,\n      name: apiary.name,\n      state: apiary.state,\n      number: apiary.number,\n      intensive: apiary.intensive,\n      transhumance: apiary.transhumance,\n      zoneId: apiary.zoneId,\n      beekeeperId: apiary.beekeeperId,\n    });\n  }\n\n  save() {\n    this.isSaving = true;\n    const apiary = this.createFromForm();\n    apiary.beekeeperId = parseInt(localStorage.getItem(\"beekeeperId\"));\n    if (!this.isNew) {\n      this.subscribeToSaveResponse(this.apiaryService.update(apiary));\n    } else {\n      this.subscribeToSaveResponse(this.apiaryService.create(apiary));\n    }\n  }\n\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<Apiary>>) {\n    result.subscribe(\n      (res: HttpResponse<Apiary>) => this.onSaveSuccess(res),\n      (res: HttpErrorResponse) => this.onError(res.error)\n    );\n  }\n\n  async onSaveSuccess(response) {\n    let action = 'updated';\n    if (response.status === 201) {\n      action = 'created';\n    }\n    this.isSaving = false;\n    const toast = await this.toastCtrl.create({ message: `Apiary ${action} successfully.`, duration: 2000, position: 'middle' });\n    await toast.present();\n    if(action = 'created'){\n      let navigationExtras : NavigationExtras  = { state : { apiaryId: response.body.id }, queryParams : { apiaryId: response.body.id  } }\n      await this.navController.navigateForward('/tabs/entities/hive/new', navigationExtras);\n    } else {\n      await this.navController.navigateBack('/tabs/entities/apiary');\n    }\n  }\n\n  previousState() {\n    window.history.back();\n  }\n\n  async onError(error) {\n    this.isSaving = false;\n    console.error(error);\n    const toast = await this.toastCtrl.create({ message: 'Failed to load data', duration: 2000, position: 'middle' });\n    await toast.present();\n  }\n\n  private createFromForm(): Apiary {\n    return {\n      ...new Apiary(),\n      id: this.form.get(['id']).value,\n      name: this.form.get(['name']).value,\n      state: ApiaryState[\"PENDING\"],\n      number: this.form.get(['number']).value,\n      intensive: this.form.get(['intensive']).value,\n      transhumance: this.form.get(['transhumance']).value,\n      zoneId: this.form.get(['zoneId']).value,\n      beekeeperId: this.form.get(['beekeeperId']).value,\n    };\n  }\n\n  compareZone(first: Zone, second: Zone): boolean {\n    return first && first.id && second && second.id ? first.id === second.id : first === second;\n  }\n\n  trackZoneById(index: number, item: Zone) {\n    return item.id;\n  }\n  compareBeekeeper(first: Beekeeper, second: Beekeeper): boolean {\n    return first && first.id && second && second.id ? first.id === second.id : first === second;\n  }\n\n  trackBeekeeperById(index: number, item: Beekeeper) {\n    return item.id;\n  }\n}\n","import { NgModule, Injectable } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule, Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { UserRouteAccessService } from '../../../services/auth/user-route-access.service';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Observable, of } from 'rxjs';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { ApiaryPage } from './apiary';\r\nimport { ApiaryUpdatePage } from './apiary-update';\r\nimport { Apiary, ApiaryService, ApiaryDetailPage } from '.';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ApiaryResolve implements Resolve<Apiary> {\r\n  constructor(private service: ApiaryService) {}\r\n\r\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Apiary> {\r\n    const id = route.params.id ? route.params.id : null;\r\n    if (id) {\r\n      return this.service.find(id).pipe(\r\n        filter((response: HttpResponse<Apiary>) => response.ok),\r\n        map((apiary: HttpResponse<Apiary>) => apiary.body)\r\n      );\r\n    }\r\n    return of(new Apiary());\r\n  }\r\n}\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ApiaryPage,\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n    },\r\n    canActivate: [UserRouteAccessService],\r\n  },\r\n  {\r\n    path: 'new',\r\n    component: ApiaryUpdatePage,\r\n    resolve: {\r\n      data: ApiaryResolve,\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n    },\r\n    canActivate: [UserRouteAccessService],\r\n  },\r\n  {\r\n    path: ':id/view',\r\n    component: ApiaryDetailPage,\r\n    resolve: {\r\n      data: ApiaryResolve,\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n    },\r\n    canActivate: [UserRouteAccessService],\r\n  },\r\n  {\r\n    path: ':id/edit',\r\n    component: ApiaryUpdatePage,\r\n    resolve: {\r\n      data: ApiaryResolve,\r\n    },\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n    },\r\n    canActivate: [UserRouteAccessService],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [ApiaryPage, ApiaryUpdatePage, ApiaryDetailPage],\r\n  imports: [IonicModule, FormsModule, ReactiveFormsModule, CommonModule, TranslateModule, RouterModule.forChild(routes)],\r\n})\r\nexport class ApiaryPageModule {}\r\n"],"names":[],"sourceRoot":"webpack:///"}
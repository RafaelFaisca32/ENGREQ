{"version":3,"file":"src_app_pages_home_home_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAA+C;AACN;AACI;AACU;AACV;AACS;AACmC;AAClD;AAEvC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,gDAAQ;QACnB,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;SAC3B;QACD,WAAW,EAAE,CAAC,mGAAsB,CAAC;KACtC;CACF,CAAC;IAMW,cAAc,SAAd,cAAc;CAAG;AAAjB,cAAc;IAJ1B,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,uDAAW,EAAE,yDAAY,EAAE,uDAAW,EAAE,gEAAe,EAAE,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACjG,YAAY,EAAE,CAAC,gDAAQ,CAAC;KACzB,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACxBuB;AACH;AAEsB;AACH;IAOrD,QAAQ,SAAR,QAAQ;IAGnB,YAAmB,aAA4B,EAAU,cAA8B,EAAU,YAA0B;QAAxG,kBAAa,GAAb,aAAa,CAAe;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAAU,iBAAY,GAAZ,YAAY,CAAc;IAAG,CAAC;IAE/H,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC5C,IAAI,OAAO,KAAK,IAAI,EAAE;gBACpB,IAAI,CAAC,gBAAgB,EAAE,CAAC;aACzB;iBAAM;gBACL,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;aACxB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE,CAAC;IAC/C,CAAC;IAED,MAAM;QACJ,YAAY,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QAClC,YAAY,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;QACvC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;QAC3B,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEO,gBAAgB;QACtB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;IACtC,CAAC;CACF;;YAvCQ,yDAAa;YAEb,0EAAc;YACd,uEAAY;;AAOR,QAAQ;IALpB,wDAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,iEAA6B;;KAE9B,CAAC;GACW,QAAQ,CA6BpB;AA7BoB","sources":["./src/app/pages/home/home.module.ts","./src/app/pages/home/home.page.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { UserRouteAccessService } from 'src/app/services/auth/user-route-access.service';\r\nimport { HomePage } from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage,\r\n    data: {\r\n      authorities: ['ROLE_USER'],\r\n    },\r\n    canActivate: [UserRouteAccessService],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [IonicModule, CommonModule, FormsModule, TranslateModule, RouterModule.forChild(routes)],\r\n  declarations: [HomePage],\r\n})\r\nexport class HomePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { Account } from 'src/model/account.model';\r\nimport { AccountService } from '../../services/auth/account.service';\r\nimport { LoginService } from '../../services/login/login.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: 'home.page.html',\r\n  styleUrls: ['home.page.scss'],\r\n})\r\nexport class HomePage implements OnInit {\r\n  account: Account;\r\n\r\n  constructor(public navController: NavController, private accountService: AccountService, private loginService: LoginService) {}\r\n\r\n  ngOnInit() {\r\n    this.accountService.identity().then(account => {\r\n      if (account === null) {\r\n        this.goBackToHomePage();\r\n      } else {\r\n        this.account = account;\r\n      }\r\n    });\r\n  }\r\n\r\n  isAuthenticated() {\r\n    return this.accountService.isAuthenticated();\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem('beekeeperId');\r\n    this.loginService.logout();\r\n    this.goBackToHomePage();\r\n  }\r\n\r\n  private goBackToHomePage(): void {\r\n    this.navController.navigateBack('');\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}